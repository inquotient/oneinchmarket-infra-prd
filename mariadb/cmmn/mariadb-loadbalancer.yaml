apiVersion: v1
kind: Service
metadata:
  name: cmmn-mariadb-loadbalancer
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-proxy-protocol: "*"
    service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: instance
    service.beta.kubernetes.io/aws-load-balancer-scheme: internet-facing
    service.beta.kubernetes.io/aws-load-balancer-subnets: subnet-08c8fc766c3c475ff
    service.beta.kubernetes.io/aws-load-balancer-security-groups: sg-020a111f102c4b041
spec:
  ports:
    - port: 3306
      targetPort: 3306
      protocol: TCP
  type: LoadBalancer
  loadBalancerClass: service.k8s.aws/nlb
  selector:
    app: cmmn-mariadb
  loadBalancerSourceRanges:
    - 10.0.0.0/16